# Drag & Drop 이동 테스트 시나리오 (파일 리스트 → 디렉토리)

## 목적
선택된 파일을 현재 화면에서 다른 디렉토리(예: `사진`)로 드래그 앤 드랍 이동할 수 있는지 검증한다.

## 사전 조건
- 루트(`/`)에 다음 항목이 존재
  - 디렉토리: `사진`
  - 파일: `스크린샷 2026-02-17 오후 12.30.44.png` (또는 임의 파일)
- 사용자 로그인 완료

## 시나리오 A: 단일 파일 이동
1. 파일 체크박스를 클릭해 선택한다.
2. 선택된 파일 행(이름 텍스트 영역)을 눌러 `사진` 디렉토리 행으로 드래그한다.
3. 드롭한다.

### 기대 결과
- 이동 중 Backdrop이 표시된다.
  - `Moving 1 item(s)`
  - `Target folder: 사진`
- 이동 완료 후 Backdrop이 사라진다.
- 루트 목록에서 파일이 사라진다.
- `사진` 폴더 진입 시 파일이 보인다.

## 시나리오 B: 다중 파일 이동
1. 파일 2개 이상 체크박스로 선택한다.
2. 선택 파일 중 하나를 드래그해 `사진`에 드롭한다.

### 기대 결과
- Backdrop에 `Moving N item(s)`가 표시된다.
- 성공한 파일은 모두 `사진` 폴더로 이동한다.
- 충돌 파일은 스킵되고 알림이 표시된다.

## 시나리오 C: 충돌 파일 처리
1. `사진` 폴더 안에 같은 이름 파일을 미리 만든다.
2. 루트의 같은 이름 파일을 `사진`으로 드롭한다.

### 기대 결과
- 충돌 파일은 이동되지 않는다.
- `Skipped X conflicting item(s)` 알림이 표시된다.

## 로그 확인 포인트
- frontend nginx: `POST /api/admin/files/move` 200 응답
- backend: `moved file from ... to ...` 로그

## 자동 테스트
- `frontend/src/widgets/file-table/ui/FileTable.dnd.test.tsx`
  - 선택 파일 드래그 후 디렉토리 드롭 시 `onDropToDirectory` 콜백이 호출되는지 검증
